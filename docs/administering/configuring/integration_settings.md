---
id: integration_settings
title: Integration Settings
sidebar_label: Integration Settings
---
The `Integrations` menu is where Manifold administrators can leverage external services, including Google, Twitter, and Facebook, for third party authentication, social sharing functionality, and to enable text ingestion from Google Docs.

:::location
The fields discussed in this section can be accessed from the Manifold backend by selecting **Settings** from the main menu and then **Ingestion Settings** in the submenu.

Only users logged in with **Admin** credentials can access this view.
:::

The **Integrations** menu is where Manifold administrators can leverage external services, including Google, Twitter, and Facebook, for third party authentication, social sharing functionality, and to enable text ingestion from Google Docs.

By configuring OAuth, your readers can login to Manifold using their Facebook, Twitter, or Google login. Configuring each OAuth Provider involves generating access tokens and storing them in Manifold. Follow the specific instructions for each provider to set this up.

Before a publisher can input values into each of these fields, they will first need to set up accounts with Facebook, Twitter, and Google as described here.

## Facebook OAuth

If the Facebook OAuth Configuration feature is enabled, Manifold will include a "Log in with Facebook" button on the login page. Clicking the button will open a popup that allows users to authenticate using their Facebook account. On successful authentication, Manifold will create a user record (if it is the user's first time logging in) and an associated identity record.

These instructions document the process for acquiring OAuth keys from Facebook. It's possible that their process has changed since this was written. If that's the case, please [open a pull request](https://github.com/ManifoldScholar/manifold-docusaurus/pulls) against our documentation with a correction.

To add OAuth support for Facebook to Manifold, you will need a Facebook account, which will allow you to create a Manifold Facebook app. See the [Facebook Developer Docs](https://developers.facebook.com/docs/apps/register#developer-account).

The Manifold API handles OAuth callbacks. For Facebook, the callback route is located at `/auth/facebook/callback`. For your installation of Manifold, the callback URL will be the fully qualified domain name \(FQDN\) of the API server followed by that path. For example, if my Manifold API is on the same domain as the client application, and that domain is `manifoldapp.org`, the callback URL would be `http://manifoldapp.org/auth/facebook/callback`. Enter your Manifold API callback in your Facebook app's "Valid OAuth redirect URIs" field.

In Manifold, in "Settings" under "Integrations", below the "Facebook" header, enter your Facebook App ID in the field labeled **Facebook App ID**. Enter the App Secret value into the field labeled **Facebook App Secret**.


Alternatively, if you manage settings in the environment (`MANAGE_SETTINGS_FROM_ENV=1` in your `.env` file), you should set the corresponding settings in `.env`:

``` conf
# Facebook OAuth Integration
MANIFOLD_SETTING_INTEGRATIONS_FACEBOOK_APP_ID=
MANIFOLD_SETTING_SECRETS_FACEBOOK_APP_SECRET=
```

## Twitter OAuth

If this feature is enabled, Manifold will include a "Log in with Twitter" button on the login page. Clicking the button will open a popup that allows users to authenticate using their Twitter account. On successful authentication, Manifold will create a user record (if it is the user's first time logging in) and an associated identity record.

These fields are dependent on Twitter's developer APIS. It's possible that their process has changed since this was written. If that's the case, please [open a pull request](https://github.com/ManifoldScholar/manifold-docs/pulls) against our documentation with a correction.

Manifold requires that you havve a Twitter app through the [Twitter App Interface](https://apps.twitter.com).

The Manifold API handles OAuth callbacks. For Twitter, the callback route is located at `/auth/twitter/callback`. For your installation of Manifold, the callback URL will be the fully qualified domain name (FQDN) of the API server followed by that path. For example, if my Manifold API is on the same domain as the client application, and that domain is `manifoldapp.org`, the callback URL would be `http://manifoldapp.org/auth/twitter/callback`.


Manifold Twitter integration takes the Consumer Key/(API Key) and Consumer Secret/(API Secret) generated by your [Twitter App](https://apps.twitter.com) once you have logged into your account and app at and entered the callback URL in the appropriate field on your Twitter App. Your Twitter app should be "Read Only" and should "Request email addresses from users". Enter the Consumer Key into the field labeled **Twitter Consumer Key**. Enter the Consumer secret into the field labeled **Twitter Consumer Secret**.

Alternatively, if you manage settings in the environment (`MANAGE_SETTINGS_FROM_ENV=1` in your `.env` file), you should set the corresponding settings in `.env`:

```
MANIFOLD_SETTING_INTEGRATIONS_TWITTER_APP_ID=
MANIFOLD_SETTING_SECRETS_TWITTER_APP_SECRET=
```

## Google Services

By configuring Google Services, a publisher will unlock the ability to import texts from Google Docs into the Manifold reader, import resources in bulk into existing projects (using Google Drive), and leverage Google Analytics to get detailed statistics about reader use and interaction with the Manifold instance. To make it possible for your readers to log into your Manifold instance using their Google credentials, you will need to configure OAuth after you configure Google Services.

Manifold requires information from a Google developer account and a Manifold Google project you create through the [Google Developer Console](https://console.developers.google.com/). From your project, you will need to generate a Credentials Set "Service Account Key" and upload the file. Manifold takes "JSON" key types.

Once you have uploaded the `google_service.json` file generated by your Google Developer project, you can enable the API through the Google Developer Console to complete Google Drive integration.

Under the "Google Services Integration" header, uploading the `google_service.json` file will automatically populate the rest of the fields in the section.

Alternatively, if you manage settings in the environment \(`MANAGE_SETTINGS_FROM_ENV=1` in your `.env` file\), you should set the corresponding settings in `.env`:

```
# Config Files
MANIFOLD_SETTING_CONFIG_GOOGLE_SERVICE="/var/opt/manifold/api/keys/google_service.json"

## Google Integration
MANIFOLD_SETTING_INTEGRATIONS_GOOGLE_PROJECT_ID=
MANIFOLD_SETTING_INTEGRATIONS_GOOGLE_PRIVATE_KEY_ID=
MANIFOLD_SETTING_INTEGRATIONS_GOOGLE_CLIENT_EMAIL=
MANIFOLD_SETTING_INTEGRATIONS_GOOGLE_CLIENT_ID=
```

If a file path is present at the path set in `MANIFOLD_SETTING_CONFIG_GOOGLE_SERVICE`, values will first be set from this file, then overwritten by any subsequent matching keys.

With Google Services configured, you can enable Google OAuth, Google Analytics, and Google Drive on your instance.


## Google OAuth Configuration


If this feature is enabled, Manifold will include a **Log in with Google** button on the login page. Clicking the button will open a popup that allows users to authenticate using their Google account. On successful authentication, Manifold will create a user record (if it is the user’s first time logging in) and an associated identity record.

The process for acquiring [OAuth keys from Google](https://developers.google.com/identity/protocols/oauth2) may change. If that’s the case, please [open a pull request](https://github.com/ManifoldScholar/manifold-docusaurus/pulls) against our documentation with a correction.

The Manifold API handles OAuth callbacks. For Google, the callback route is located at `/auth/google/callback`. For your installation of Manifold, the callback URL will be the fully qualified domain name (FQDN) of the API server followed by that path. For example, my Manifold API is on the same domain as the client application, and that domain is manifoldapp.org, the callback URL would be `http://manifoldapp.org/auth/google/callback`.

Manifold Google OAuth requires **Setup Consent** configured with your email, your authorized Manifold domain, and the callback URL entered in the **Authorized redirect URIs** field. The Manifold Integration page has fields to input both **Client ID** and **Client secret**.

Alternatively, if you manage settings in the environment (`MANAGE_SETTINGS_FROM_ENV=1` in your `.env file`), you should set the corresponding settings in `.env`:

```
# Google OAuth Integration
MANIFOLD_SETTING_INTEGRATIONS_GOOGLE_OAUTH_CLIENT_ID=
MANIFOLD_SETTING_SECRETS_GOOGLE_OAUTH_CLIENT_SECRET=
```
## Google Analytics

Configure this feature to enable analytics reporting to your Google account, and to display analytics data in the Manifold backend. Before using this feature, you must configure Google services.

Manifold requires a Universal Authorization code to enable Google Analytics.

You will need a new property at [Google Analytics](https://analytics.google.com) for your Manifold installation. If you need help, instructions can be found at [Analytics Help](https://support.google.com/analytics/answer/1008015?hl=en). You need to create a Universal Analytics Property, which requires that you open Advanced Options when you create your property, see this article [setting up analytics for a website](https://support.google.com/analytics/answer/10269537#zippy=%2Cadd-the-global-site-tag-directly-to-your-web-pages%2Cadd-the-global-site-tag-to-a-website-builder-or-cms-hosted-website-for-example-wordpress-shopify-etc).

Under the **Google Analytics** header, you can enter the value from your Google Analytics property into the corresponding field: **Google Analytics Tracking ID**, including the `UA- `prefix.

Alternatively, if you manage settings in the environment (`MANAGE_SETTINGS_FROM_ENV=1` in your `.env` file), you should set the corresponding settings in `.env`:

```
# Google Analytics Integration
MANIFOLD_SETTING_INTEGRATIONS_GA_TRACKING_ID=
```
