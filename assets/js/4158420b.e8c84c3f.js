"use strict";(self.webpackChunkmanifold_docusaurus=self.webpackChunkmanifold_docusaurus||[]).push([[3989],{92856:(n,e,_)=>{_.r(e),_.d(e,{assets:()=>I,contentTitle:()=>i,default:()=>o,frontMatter:()=>t,metadata:()=>a,toc:()=>s});var E=_(74848),T=_(28453);const t={id:"managing_settings",title:"Managing Settings",sidebar_label:"Managing Settings"},i=void 0,a={id:"administering/configuring/managing_settings",title:"Managing Settings",description:"From the Backend",source:"@site/docs/administering/configuring/managing_settings.md",sourceDirName:"administering/configuring",slug:"/administering/configuring/managing_settings",permalink:"/manifold-docusaurus/docs/administering/configuring/managing_settings",draft:!1,unlisted:!1,editUrl:"https://github.com/ManifoldScholar/manifold-docusaurus/edit/master/docs/administering/configuring/managing_settings.md",tags:[],version:"current",frontMatter:{id:"managing_settings",title:"Managing Settings",sidebar_label:"Managing Settings"},sidebar:"docs",previous:{title:"Mitigating Spam",permalink:"/manifold-docusaurus/docs/administering/spam"},next:{title:"Properties",permalink:"/manifold-docusaurus/docs/administering/configuring/properties"}},I={},s=[{value:"From the Backend",id:"from-the-backend",level:2},{value:"From the Environment",id:"from-the-environment",level:2}];function N(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,T.R)(),...n.components};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(e.h2,{id:"from-the-backend",children:"From the Backend"}),"\n",(0,E.jsxs)(e.p,{children:["The Settings menu in Manifold's backend allows non-technical users to customize their instance. Settings are stored in Manifold's database, and can be viewed from an API console session using ",(0,E.jsx)(e.code,{children:"Settings.instance"}),"."]}),"\n",(0,E.jsx)(e.p,{children:"To access settings, you must be logged in as an admin user. Each of the available settings are described in more detail in the subpages of this page."}),"\n",(0,E.jsx)(e.h2,{id:"from-the-environment",children:"From the Environment"}),"\n",(0,E.jsx)(e.admonition,{type:"tip",children:(0,E.jsxs)(e.p,{children:["To learn how to manage environment variables from a package installation of Manifold, see ",(0,E.jsx)(e.a,{href:"/docs/administering/reference/environment_variables#package-install",children:"this section of our documentation"}),"."]})}),"\n",(0,E.jsx)(e.p,{children:"When Manifold's API service starts, it is possible to set any of Manifold's setting through an environment variable. This process happens once, when the application starts. To read settings from the environment, the following environment variable must be set:"}),"\n",(0,E.jsx)(e.pre,{children:(0,E.jsx)(e.code,{className:"language-bash",children:"MANAGE_SETTINGS_FROM_ENV=1\n"})}),"\n",(0,E.jsxs)(e.p,{children:["If that variable is present, Manifold will map environment variables that begin with ",(0,E.jsx)(e.code,{children:"MANIFOLD_SETTING_"})," to the corresponding setting value in the database. On startup, the settings record in the database will be updated with the value from the environment."]}),"\n",(0,E.jsx)(e.admonition,{type:"info",children:(0,E.jsx)(e.p,{children:"The authoritative settings record in the database is updated from the environment when Manifold starts up. This means that you could load a setting from the environment, then change it in the web interface. The next time Manifold is restarted, the value from the environment will overwrite the updated value. Be aware of this caveat if you manage settings from the environment."})}),"\n",(0,E.jsx)(e.p,{children:"While most setting environment variables are straight-forward, there is one that is unique:"}),"\n",(0,E.jsx)(e.pre,{children:(0,E.jsx)(e.code,{className:"language-bash",children:'MANIFOLD_SETTING_CONFIG_GOOGLE_SERVICE="/path/to/google/service/key.json"\n'})}),"\n",(0,E.jsx)(e.p,{children:"This variable allows you to refer to a google cloud service account json key. When Manifold boots up, it will parse this key and assign the various values to the correct settings. This is useful if you're deploying Manifold to a Google Cloud environment and need to automatically provision and provide Manifold with a service account as part of that process."}),"\n",(0,E.jsx)(e.p,{children:"As of Manifold v6, the following settings can be set from the environment:"}),"\n",(0,E.jsx)(e.pre,{children:(0,E.jsx)(e.code,{className:"language-bash",children:"MANIFOLD_SETTING_GENERAL_TWITTER\nMANIFOLD_SETTING_GENERAL_FACEBOOK\nMANIFOLD_SETTING_GENERAL_COPYRIGHT\nMANIFOLD_SETTING_GENERAL_HEAD_TITLE\nMANIFOLD_SETTING_GENERAL_PRESS_SITE\nMANIFOLD_SETTING_GENERAL_CONTACT_EMAIL\nMANIFOLD_SETTING_GENERAL_ALL_STANDALONE\nMANIFOLD_SETTING_GENERAL_HEAD_DESCRIPTION\nMANIFOLD_SETTING_GENERAL_LIBRARY_DISABLED\nMANIFOLD_SETTING_GENERAL_DEFAULT_PUBLISHER\nMANIFOLD_SETTING_GENERAL_HOME_REDIRECT_URL\nMANIFOLD_SETTING_GENERAL_INSTALLATION_NAME\nMANIFOLD_SETTING_GENERAL_RESTRICTED_ACCESS\nMANIFOLD_SETTING_GENERAL_DISABLE_ENGAGEMENT\nMANIFOLD_SETTING_GENERAL_LIBRARY_REDIRECT_URL\nMANIFOLD_SETTING_GENERAL_SOCIAL_SHARE_MESSAGE\nMANIFOLD_SETTING_GENERAL_DISABLE_READING_GROUPS\nMANIFOLD_SETTING_GENERAL_RESTRICTED_ACCESS_BODY\nMANIFOLD_SETTING_GENERAL_DEFAULT_PUBLISHER_PLACE\nMANIFOLD_SETTING_GENERAL_RESTRICTED_ACCESS_HEADING\nMANIFOLD_SETTING_GENERAL_DISABLE_INTERNAL_ANALYTICS\nMANIFOLD_SETTING_THEME_TYPEKIT_ID\nMANIFOLD_SETTING_THEME_LOGO_STYLES\nMANIFOLD_SETTING_THEME_TOP_BAR_URL\nMANIFOLD_SETTING_THEME_ACCENT_COLOR\nMANIFOLD_SETTING_THEME_TOP_BAR_MODE\nMANIFOLD_SETTING_THEME_TOP_BAR_TEXT\nMANIFOLD_SETTING_THEME_HEADER_OFFSET\nMANIFOLD_SETTING_THEME_TOP_BAR_COLOR\nMANIFOLD_SETTING_THEME_HEADER_BACKGROUND_COLOR\nMANIFOLD_SETTING_THEME_HEADER_FOREGROUND_COLOR\nMANIFOLD_SETTING_THEME_HEADER_FOREGROUND_ACTIVE_COLOR\nMANIFOLD_SETTING_INTEGRATIONS_GA_PROFILE_ID\nMANIFOLD_SETTING_INTEGRATIONS_GA_TRACKING_ID\nMANIFOLD_SETTING_INTEGRATIONS_TWITTER_APP_ID\nMANIFOLD_SETTING_INTEGRATIONS_FACEBOOK_APP_ID\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_CLIENT_ID\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_PROJECT_ID\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_CLIENT_EMAIL\nMANIFOLD_SETTING_INTEGRATIONS_TWITTER_ACCESS_TOKEN\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_PRIVATE_KEY_ID\nMANIFOLD_SETTING_INTEGRATIONS_GOOGLE_OAUTH_CLIENT_ID\nMANIFOLD_SETTING_SECRETS_GOOGLE_PRIVATE_KEY\nMANIFOLD_SETTING_SECRETS_TWITTER_APP_SECRET\nMANIFOLD_SETTING_SECRETS_FACEBOOK_APP_SECRET\nMANIFOLD_SETTING_SECRETS_SMTP_SETTINGS_PASSWORD\nMANIFOLD_SETTING_SECRETS_GOOGLE_OAUTH_CLIENT_SECRET\nMANIFOLD_SETTING_SECRETS_TWITTER_ACCESS_TOKEN_SECRET\nMANIFOLD_SETTING_EMAIL_CLOSING\nMANIFOLD_SETTING_EMAIL_FROM_NAME\nMANIFOLD_SETTING_EMAIL_FROM_ADDRESS\nMANIFOLD_SETTING_EMAIL_REPLY_TO_NAME\nMANIFOLD_SETTING_EMAIL_DELIVERY_METHOD\nMANIFOLD_SETTING_EMAIL_REPLY_TO_ADDRESS\nMANIFOLD_SETTING_EMAIL_SMTP_SETTINGS_PORT\nMANIFOLD_SETTING_EMAIL_SMTP_SETTINGS_ADDRESS\nMANIFOLD_SETTING_EMAIL_SMTP_SETTINGS_USER_NAME\nMANIFOLD_SETTING_INGESTION_GLOBAL_STYLES\nMANIFOLD_SETTINGS_STORAGE_PRIMARY // can be GCS or FILE\nMANIFOLD_SETTINGS_STORAGE_MIRROR // can be GCS or file\nMANIFOLD_SETTINGS_STORAGE_PRIMARY_BUCKET\nMANIFOLD_SETTINGS_STORAGE_CACHE_BUCKET\nMANIFOLD_SETTINGS_STORAGE_TUS_BUCKET\nMANIFOLD_SETTINGS_STORAGE_MIRROR_BUCKET\nMANIFOLD_SETTINGS_STORAGE_PRIMARY_PATH\nMANIFOLD_SETTINGS_STORAGE_CACHE_PATH\nMANIFOLD_SETTINGS_STORAGE_TUS_PATH\nMANIFOLD_SETTINGS_STORAGE_MIRROR_PATH\n"})})]})}function o(n={}){const{wrapper:e}={...(0,T.R)(),...n.components};return e?(0,E.jsx)(e,{...n,children:(0,E.jsx)(N,{...n})}):N(n)}},28453:(n,e,_)=>{_.d(e,{R:()=>i,x:()=>a});var E=_(96540);const T={},t=E.createContext(T);function i(n){const e=E.useContext(t);return E.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(T):n.components||T:i(n.components),E.createElement(t.Provider,{value:e},n.children)}}}]);