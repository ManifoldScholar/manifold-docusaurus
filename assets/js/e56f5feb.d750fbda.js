"use strict";(self.webpackChunkmanifold_docusaurus=self.webpackChunkmanifold_docusaurus||[]).push([[4773],{53206:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>s,metadata:()=>l,toc:()=>u});var i=n(74848),r=n(28453),t=n(45321);const s={id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting"},a=void 0,l={id:"administering/troubleshooting",title:"Troubleshooting",description:"Logging",source:"@site/docs/administering/troubleshooting.mdx",sourceDirName:"administering",slug:"/administering/troubleshooting",permalink:"/manifold-docusaurus/docs/administering/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/ManifoldScholar/manifold-docusaurus/edit/master/docs/administering/troubleshooting.mdx",tags:[],version:"current",frontMatter:{id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting"},sidebar:"docs",previous:{title:"Backup and Restore",permalink:"/manifold-docusaurus/docs/administering/backup_restore"},next:{title:"Securing Manifold",permalink:"/manifold-docusaurus/docs/administering/securing_manifold"}},c={},u=[{value:"Logging",id:"logging",level:2},{value:"Background Jobs",id:"background-jobs",level:2},{value:"Memory Consumption",id:"memory-consumption",level:2}];function d(e){const o={a:"a",h2:"h2",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h2,{id:"logging",children:"Logging"}),"\n",(0,i.jsx)(o.p,{children:"When Manifold isn't working the way it should, the best place to begin troubleshooting is by looking at Manifold's logs."}),"\n",(0,i.jsx)(t.A,{title:"Log Locations",subtitle:"For package installations",items:[{key:"API",value:"/var/log/manifold/api/production.log"},{key:"API app server (Puma)",value:"/var/log/manifold/puma/current"},{key:"Cable",value:"/var/log/manifold/cable/current"},{key:"Client",value:"/var/log/manifold/client/current"},{key:"Clockwork",value:"/var/log/manifold/clockwork/current"},{key:"Elasticsearch",value:"/var/log/manifold/elasticsearch/current"},{key:"Nginx access log",value:"/var/log/manifold/nginx/access.log"},{key:"Nginx error log",value:"/var/log/manifold/nginx/error.log"},{key:"Postgresql",value:"/var/log/manifold/postgresql/current"},{key:"Redis",value:"/var/log/manifold/redis/current"},{key:"Sidekiq",value:"/var/log/manifold/sidekiq/current"}]}),"\n",(0,i.jsxs)(o.p,{children:["See the ",(0,i.jsx)(o.a,{href:"/docs/administering/managing_services#troubleshooting-services",children:"troubleshooting services"})," section in our documentation for more information on managing and checking services. If Manifold isn't working correctly, check and make sure all services are running. If a service isn't starting, check the corresponding log file to figure out why the service won't run correctly."]}),"\n",(0,i.jsx)(o.p,{children:"If you're encountering an application error, start by figuring out if it's a client error or an API error. If you're seeing a 500 error from the API, it could indicate a misconfiguration or a bug. Check the end of the API log to better understand what's causing the error. Errors in the client application will show up in the client log, or in your console in developer tools. If you see errors in these places, please report them to us on Slack. If there's a bug in Manifold, we want to know about it!"}),"\n",(0,i.jsx)(o.h2,{id:"background-jobs",children:"Background Jobs"}),"\n",(0,i.jsxs)(o.p,{children:["Manifold runs a number of tasks in the background, including but not limited to image processing, email delivery, collection membership calculations, epub generation, and project packaging. It relies on a piece of open source software called Sidekiq to manage these job queues. If you are logged in to your manifold instance as an admin user, you may view the Sidekiq job queue at ",(0,i.jsx)(o.a,{href:"http://your-domain/api/sidekiq",children:"http://your-domain/api/sidekiq"}),". If background jobs are failing, you will see a high count of failed or retried jobs on the dashboard. Look at the retry queue for clues about why jobs are failing."]}),"\n",(0,i.jsx)(o.h2,{id:"memory-consumption",children:"Memory Consumption"}),"\n",(0,i.jsx)(o.p,{children:"Like many Ruby applications, the Manifold API consumes and can hold onto available memory. With Manifold v6, we've fixed a number of memory issues and upgrades Ruby to v2.7, which has improved garbage collection. That said, you might experience issues if your instance doesn't have adequate memory resources to support Manifold's various underlying services. If Manifold is non-responsive or unstable, monitory the available memory and consider increasing the resources devoted to Manifold."})]})}function g(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},45321:(e,o,n)=>{n.d(o,{A:()=>s});n(96540);var i=n(34164);const r={specContainer:"specContainer_R31d",specTitleWrapper:"specTitleWrapper_BDYd",specTitle:"specTitle_XtzR",specSubtitle:"specSubtitle_aF9x",specContent:"specContent_OrJb",specTable:"specTable_ebTy"};var t=n(74848);const s=e=>{let{title:o,subtitle:n,items:s,children:a}=e;return(0,t.jsxs)("div",{className:(0,i.A)(r.specContainer),children:[o&&(0,t.jsxs)("div",{className:(0,i.A)(r.specTitleWrapper),children:[(0,t.jsx)("span",{className:(0,i.A)(r.specTitle),children:o}),n&&(0,t.jsx)("span",{className:(0,i.A)(r.specSubtitle),children:n})]}),s&&(0,t.jsx)("div",{className:(0,i.A)(r.specTable),children:(0,t.jsx)("table",{width:"100%",children:(0,t.jsx)("tbody",{children:s.map(((e,o)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:(0,i.A)(r.specKey),children:e.key}),(0,t.jsx)("td",{className:(0,i.A)(r.specValue),children:e.value})]},e.key)))})})}),a?(0,t.jsx)("div",{className:(0,i.A)(r.specContent),children:a}):null]})}},28453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>a});var i=n(96540);const r={},t=i.createContext(r);function s(e){const o=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(t.Provider,{value:o},e.children)}}}]);