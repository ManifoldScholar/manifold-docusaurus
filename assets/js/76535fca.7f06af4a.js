"use strict";(self.webpackChunkmanifold_docusaurus=self.webpackChunkmanifold_docusaurus||[]).push([[4957],{32913:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>d,toc:()=>l});var r=s(74848),i=s(28453),n=s(45321);const a={id:"export_targets",title:"Export Targets",sidebar_label:"Export Targets"},o=void 0,d={id:"administering/configuring/export_targets",title:"Export Targets",description:"The fields discussed in this section can be accessed from the Manifold backend by selecting Settings from the main menu and then Export Targets in the submenu.",source:"@site/docs/administering/configuring/export_targets.md",sourceDirName:"administering/configuring",slug:"/administering/configuring/export_targets",permalink:"/manifold-docusaurus/docs/administering/configuring/export_targets",draft:!1,unlisted:!1,editUrl:"https://github.com/ManifoldScholar/manifold-docusaurus/edit/master/docs/administering/configuring/export_targets.md",tags:[],version:"current",frontMatter:{id:"export_targets",title:"Export Targets",sidebar_label:"Export Targets"},sidebar:"docs",previous:{title:"Email Settings",permalink:"/manifold-docusaurus/docs/administering/configuring/email_settings"},next:{title:"Environment Variables",permalink:"/manifold-docusaurus/docs/administering/reference/environment_variables"}},c={},l=[{value:"What are Export Targets?",id:"what-are-export-targets",level:2},{value:"Adding and Editing Targets",id:"adding-and-editing-targets",level:2},{value:"Export Variables",id:"export-variables",level:2},{value:"Export Schemes for Directory Paths",id:"export-schemes-for-directory-paths",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.admonition,{type:"location",children:[(0,r.jsxs)(t.p,{children:["The fields discussed in this section can be accessed from the Manifold backend by selecting ",(0,r.jsx)(t.strong,{children:"Settings"})," from the main menu and then ",(0,r.jsx)(t.strong,{children:"Export Targets"})," in the submenu."]}),(0,r.jsxs)(t.p,{children:["Only users logged in with ",(0,r.jsx)(t.strong,{children:"Admin"})," role can access this view."]})]}),"\n",(0,r.jsx)(t.h2,{id:"what-are-export-targets",children:"What are Export Targets?"}),"\n",(0,r.jsxs)(t.p,{children:["Manifold Projects can be packaged up and exported via SFTP to preservation agencies or institutional repositories for long-term digital preservation. Export Targets represent those destinations Manifold will be able to connect and securely deliver Project materials. See the ",(0,r.jsx)(t.a,{href:"/manifold-docusaurus/docs/backend/projects#exports",children:"Exports"})," section for details about the process and form of these exports."]}),"\n",(0,r.jsx)(t.h2,{id:"adding-and-editing-targets",children:"Adding and Editing Targets"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Add a new export target"})," button opens a drawer from the right where new Export Targets are configured. These settings should be confirmed with the target repository in question. Existing Export Targets appear in this view as a paginated list. When a Target listing is selected the configuration options will again be available for edit."]}),"\n",(0,r.jsxs)(t.p,{children:["A Target\u2019s ",(0,r.jsx)(t.strong,{children:"Name"})," is arbitrary and intended for internal use, distinguishing between various Export Targets. The name is listed in this view and in the dropdown field of the ",(0,r.jsxs)(t.a,{href:"/manifold-docusaurus/docs/backend/projects#exports",children:[(0,r.jsx)(t.strong,{children:"Exports"})," menu"]})," within a Project."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Format"})," of the Target Name is described with variables and determines the top-level filename of the exported archive. It ",(0,r.jsx)(t.em,{children:"does not"})," affect the structure or content of the export in any way. The default value for this field is ",(0,r.jsx)(t.code,{children:"%s.%e"}),", which, using the variables definitions below, equates to ",(0,r.jsx)(t.code,{children:"project-slug.extension"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["There are two dropdown options currently available that outline the ",(0,r.jsx)(t.strong,{children:"Type"})," of transfer: ",(0,r.jsx)(t.strong,{children:"SFTP with Key Authentication"})," and ",(0,r.jsx)(t.strong,{children:"SFTP with Password Authentication"}),". These are determined by the preservation agency. Select the appropriate based on whether the archive is supplying a key to authenticate with or a password. Other possibilities are viable for implementation, whether for cloud systems or institutional repositories."]}),"\n",(0,r.jsxs)(t.p,{children:["Likewise, the ",(0,r.jsx)(t.strong,{children:"SFTP Host"})," value will be supplied to you by the repository accepting your content, and will likely take a format akin to ",(0,r.jsx)(t.code,{children:"ftp.{ArchiveName}.{domain}"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["The default ",(0,r.jsx)(t.strong,{children:"SFTP Port"})," value, ",(0,r.jsx)(t.code,{children:"22"}),", is the standard that most secure servers will be listening to for transfers of this kind. If the preservation agency does not specify a port for the transfer, you can safely assume they are listening on port 22 and leave this field as is."]}),"\n",(0,r.jsxs)(t.p,{children:["The value of the ",(0,r.jsx)(t.strong,{children:"SFTP Username"})," is unaffected by the ",(0,r.jsx)(t.strong,{children:"Type"})," of transfer and will be set up for you by the preservation agency. This field ",(0,r.jsx)(t.em,{children:"is"})," case sensitive."]}),"\n",(0,r.jsxs)(t.p,{children:["Depending on transfer ",(0,r.jsx)(t.strong,{children:"Type"}),", the system will provide a field for a ",(0,r.jsx)(t.strong,{children:"SFTP Private Key"})," or ",(0,r.jsx)(t.strong,{children:"SFTP Password"}),". The ",(0,r.jsx)(t.strong,{children:"Key"})," is a \u201cpaste-in\u201d field, meaning the preservation agency will supply you with their key that you can then paste into the field to complete the configuration. Likewise, they will provide you with the password they set for these transactions so that you can push content from your instance to their repository. The ",(0,r.jsx)(t.strong,{children:"Password"})," field ",(0,r.jsx)(t.em,{children:"is"})," case sensitive."]}),"\n",(0,r.jsx)(t.h2,{id:"export-variables",children:"Export Variables"}),"\n",(0,r.jsxs)(t.p,{children:["Variables are letters combined with the percent character (%); the rest of the ",(0,r.jsx)(t.strong,{children:"Target Name Format"})," can be described using the same characters available for file naming generally. The table below represents the current variables available. We could conceivably add more options if needed."]}),"\n",(0,r.jsxs)(n.A,{children:[(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Variable"}),(0,r.jsx)(t.th,{children:"Meaning"}),(0,r.jsx)(t.th,{children:"Example"}),(0,r.jsx)(t.th,{children:"Notes"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%d"})}),(0,r.jsx)(t.td,{children:"Date"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"2020-03-06"})}),(0,r.jsxs)(t.td,{children:["This is the date ",(0,r.jsx)(t.em,{children:"the export"})," was created."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%e"})}),(0,r.jsx)(t.td,{children:"Extension"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:".zip"})}),(0,r.jsxs)(t.td,{children:["Presently this will always be ",(0,r.jsx)(t.code,{children:".zip"}),". In the future we may support different formats beyond the Bagit specification."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%i"})}),(0,r.jsx)(t.td,{children:"Project ID"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"059a4e9d-2152-4ae5-816d-41891d4dccd1"})}),(0,r.jsxs)(t.td,{children:["This is a Manifold-generated globally unique ID that is visible only in the URL (appearing after ",(0,r.jsx)(t.code,{children:"projects/"}),") when viewing the project in the backend."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%I"})}),(0,r.jsx)(t.td,{children:"Export ID"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"071be7e7-f8a3-4bb3-845a-affb0f9e4c77"})}),(0,r.jsx)(t.td,{children:"A globally unique ID that Manifold generates for each export at the time of export."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%n"})}),(0,r.jsx)(t.td,{children:"Project Name"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"Metagaming"})}),(0,r.jsx)(t.td,{children:"The name of the Manifold project being exported. We would caution against using this variable as part of the export name. Project names often contain spaces that will likely cause problems downstream from the export."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%s"})}),(0,r.jsx)(t.td,{children:"Project Slug"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"metagaming"})}),(0,r.jsx)(t.td,{children:"A project's slug is the customizable URL suffix that publishers can set in project's Properties sidebar view."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%t"})}),(0,r.jsx)(t.td,{children:"Time (including date)"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"2020-03-06T220927"})}),(0,r.jsxs)(t.td,{children:["The date and time the export was created in (",(0,r.jsx)(t.a,{href:"https://tools.ietf.org/html/rfc3339",children:"RFC 3339 format"}),"). The numbers following the ",(0,r.jsx)(t.code,{children:"T"})," represent the time according to the UTC standard."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"%u"})}),(0,r.jsx)(t.td,{children:"UNIX Timestamp"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"1583532567"})}),(0,r.jsx)(t.td,{children:"The UNIX timestamp, which measures (in seconds) from January 1, 1970 UTC."})]})]})]}),(0,r.jsxs)(t.p,{children:["For the technically inclined, the available input values are also described by ",(0,r.jsx)(t.a,{href:"https://github.com/ManifoldScholar/manifold/blob/d500d4e63f7821137728d261814fbc9c9ecb6575/api/app/services/export_strategies/target_name_formatter.rb#L22",children:"this table"})," in the Manifold repository."]})]}),"\n",(0,r.jsx)(t.h2,{id:"export-schemes-for-directory-paths",children:"Export Schemes for Directory Paths"}),"\n",(0,r.jsxs)(t.p,{children:["It is possible in the present scheme to provide directory paths in the ",(0,r.jsx)(t.strong,{children:"Target Name Format"})," field. For example, to provide some nice organization you could input ",(0,r.jsx)(t.code,{children:"%s/%d/%I%e"})," to return the following:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"metagaming/2020-03-06/071be7e7-f8a3-4bb3-845a-affb0f9e4c77.zip\n"})}),"\n",(0,r.jsx)(t.p,{children:"This could potentially allow an archive to put the export archive file in a derived directory that uses those same formatting parameters. Thus the same export target could be used for a dozen projects that a repository could sort into different directories, rather than all just going into the same directory."})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},45321:(e,t,s)=>{s.d(t,{A:()=>a});s(96540);var r=s(34164);const i={specContainer:"specContainer_R31d",specTitleWrapper:"specTitleWrapper_BDYd",specTitle:"specTitle_XtzR",specSubtitle:"specSubtitle_aF9x",specContent:"specContent_OrJb",specTable:"specTable_ebTy"};var n=s(74848);const a=e=>{let{title:t,subtitle:s,items:a,children:o}=e;return(0,n.jsxs)("div",{className:(0,r.A)(i.specContainer),children:[t&&(0,n.jsxs)("div",{className:(0,r.A)(i.specTitleWrapper),children:[(0,n.jsx)("span",{className:(0,r.A)(i.specTitle),children:t}),s&&(0,n.jsx)("span",{className:(0,r.A)(i.specSubtitle),children:s})]}),a&&(0,n.jsx)("div",{className:(0,r.A)(i.specTable),children:(0,n.jsx)("table",{width:"100%",children:(0,n.jsx)("tbody",{children:a.map(((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:(0,r.A)(i.specKey),children:e.key}),(0,n.jsx)("td",{className:(0,r.A)(i.specValue),children:e.value})]},e.key)))})})}),o?(0,n.jsx)("div",{className:(0,r.A)(i.specContent),children:o}):null]})}},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var r=s(96540);const i={},n=r.createContext(i);function a(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);